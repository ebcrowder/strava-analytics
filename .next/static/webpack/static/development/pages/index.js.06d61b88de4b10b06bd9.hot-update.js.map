{"version":3,"file":"static/webpack/static/development/pages/index.js.06d61b88de4b10b06bd9.hot-update.js","sources":["webpack:///./components/Graph.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ResponsiveStream } from '@nivo/stream';\nimport getConfig from 'next/config';\n\nconst { publicRuntimeConfig } = getConfig();\nconst { STRAVA_TOKEN } = publicRuntimeConfig;\n\nconst Graph = () => {\n  const [data, setData] = useState([]);\n\n  const fetchStravaData = async () => {\n    const res = await fetch(\n      'https://www.strava.com/api/v3/athlete/activities',\n      {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${STRAVA_TOKEN}`\n        }\n      }\n    );\n    const json = await res.json();\n\n    const formattedStravaData = json.map(activity => {\n      if (activity.type === 'Run') {\n        return {\n          distance: Math.round(activity.distance * 0.000621371),\n          averageHeartRate: activity.average_heartrate,\n          totalElevationGain: activity.total_elevation_gain\n        };\n      } else {\n        return {\n          distance: Math.round(activity.distance * 0.000621371),\n          averageHeartRate: activity.average_heartrate,\n          totalElevationGain: activity.total_elevation_gain\n        };\n      }\n    });\n\n    setData(formattedStravaData);\n  };\n\n  console.log(data);\n\n  useEffect(() => {\n    fetchStravaData();\n  }, []);\n\n  return (\n    <div style={{ height: 1000, width: 1000 }}>\n      <ResponsiveStream\n        data={data}\n        keys={['distance', 'averageHeartRate', 'totalElevationGain']}\n        curve=\"catmullRom\"\n        margin={{\n          top: 50,\n          right: 110,\n          bottom: 50,\n          left: 60\n        }}\n        axisBottom={{\n          orient: 'bottom',\n          tickSize: 5,\n          tickPadding: 5,\n          tickRotation: 0,\n          legend: 'Days',\n          legendOffset: 36\n        }}\n        axisLeft={{\n          orient: 'left',\n          tickSize: 5,\n          tickPadding: 5,\n          tickRotation: 0,\n          legend: 'Activity',\n          legendOffset: -40\n        }}\n        offsetType=\"none\"\n        fillOpacity={0.85}\n        borderColor=\"#000\"\n        defs={[\n          {\n            id: 'dots',\n            type: 'patternDots',\n            background: 'inherit',\n            color: '#2c998f',\n            size: 4,\n            padding: 2,\n            stagger: true\n          },\n          {\n            id: 'squares',\n            type: 'patternSquares',\n            background: 'inherit',\n            color: '#e4c912',\n            size: 6,\n            padding: 2,\n            stagger: true\n          }\n        ]}\n        fill={[\n          {\n            match: {\n              id: 'distance'\n            },\n            id: 'dots'\n          },\n          {\n            match: {\n              id: 'Ride'\n            },\n            id: 'squares'\n          }\n        ]}\n        dotSize={8}\n        dotBorderWidth={2}\n        dotBorderColor=\"inherit:brighter(0.7)\"\n        animate={true}\n        motionStiffness={90}\n        motionDamping={15}\n        legends={[\n          {\n            anchor: 'bottom-right',\n            direction: 'column',\n            translateX: 100,\n            itemWidth: 80,\n            itemHeight: 20,\n            itemTextColor: '#999',\n            symbolSize: 12,\n            symbolShape: 'circle',\n            effects: [\n              {\n                on: 'hover',\n                style: {\n                  itemTextColor: '#000'\n                }\n              }\n            ]\n          }\n        ]}\n      />\n    </div>\n  );\n};\n\nexport default Graph;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AADA;AAFA;AACA;AAJA;AACA;AADA;AAAA;AACA;AADA;AAUA;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AA8BA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AACA;AADA;AAGA;AAJA;AAOA;AACA;AADA;AAGA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAFA;AAVA;AAtEA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4FA;AACA;AACA;;;;A","sourceRoot":""}